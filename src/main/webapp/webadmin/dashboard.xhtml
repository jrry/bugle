<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../WEB-INF/templates/panel.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="title">
        <title>Panel</title>
    </ui:define>

    <ui:define name="content">
        <h1 class="page-header">Panel</h1>
        <p:messages id="messages" globalOnly="true" showIcon="false" closable="true">
            <p:autoUpdate/>
        </p:messages>
        <h:form id="form">
            <div class="form-group">
                <p:inputText id="form-domain" placeholder="Domena..." value="#{optionsEdit.domain_name}">
                    <p:clientValidator event="blur"/>
                </p:inputText>
                <p:message for="form-domain" display="text"/>
            </div>
            <div class="form-group">
                <p:inputText id="form-title" placeholder="Tytuł strony..." value="#{optionsEdit.site_title}">
                    <p:clientValidator event="blur"/>
                </p:inputText>
                <p:message for="form-title" display="text"/>
            </div>
            <div class="form-group">
                <p:inputTextarea id="form-seodesc" placeholder="Meta opis strony (meta description)" value="#{optionsEdit.site_desc}" counter="charlimit" maxlength="155" rows="2" counterTemplate="{0} znaków do wykorzystania.">
                    <p:clientValidator event="blur"/>
                </p:inputTextarea>
                <p:message for="form-seodesc" display="text"/>
                <h:outputText id="charlimit"/>
            </div>
            <p:commandButton ajax="false" action="#{optionsEdit.save()}" value="Zapisz" class="btn btn-primary" />
            <p:commandButton ajax="false" action="#{sitemapBuilder.buildSitemap()}" value="sitemap.xml" class="btn btn-success" />
        </h:form>
    </ui:define>

</ui:composition>
